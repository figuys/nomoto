<?xml version="1.0" encoding="utf-8"?>
<UserControl x:Class="lenovo.mbg.service.lmsa.phoneManager.UserControls.MusicMgtView" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:generic="clr-namespace:lenovo.themes.generic;assembly=lenovo.themes.generic" xmlns:genericControls="clr-namespace:lenovo.themes.generic.Controls;assembly=lenovo.themes.generic" xmlns:comdll="clr-namespace:lenovo.mbg.service.lmsa.phoneManager.common;assembly=lenovo.mbg.service.lmsa.phoneManager.common" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:lang="clr-namespace:lenovo.mbg.service.framework.lang;assembly=lenovo.mbg.service.framework.lang" xmlns:local="clr-namespace:lenovo.mbg.service.lmsa.phoneManager.UserControls" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:i="clr-namespace:Microsoft.Xaml.Behaviors;assembly=Microsoft.Xaml.Behaviors" xmlns:behavior="clr-namespace:lenovo.themes.generic.Behaviors;assembly=lenovo.themes.generic" x:Name="musicView">
  <FrameworkElement.Resources>
    <ResourceDictionary>
      <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="..\Themes\MenuNavigationIcon.xaml" />
      </ResourceDictionary.MergedDictionaries>
      <Style x:Key="MusicAlbumListboxContainerStyle" TargetType="{x:Type ListBoxItem}" BasedOn="{StaticResource ItemContainer}">
        <EventSetter Event="MouseDoubleClick" Handler="AlbumListboxMouseDoubleClick" />
      </Style>
      <Style x:Key="MenuItemStyle" TargetType="{x:Type MenuItem}">
        <Setter Property="BorderBrush" Value="#43B5E2" />
        <Setter Property="BorderThickness" Value="0" />
        <Setter Property="Margin" Value="-2" />
        <Setter Property="Background" Value="#FFFFFF" />
        <Setter Property="Foreground" Value="#43B5E2" />
        <Setter Property="FontSize" Value="10" />
        <Setter Property="Height" Value="20" />
        <Setter Property="Width" Value="80" />
        <Setter Property="Template">
          <Setter.Value>
            <ControlTemplate TargetType="{x:Type MenuItem}">
              <Border Name="root" BorderThickness="0" Background="{TemplateBinding Control.Background}" SnapsToDevicePixels="True">
                <Grid Name="Bg" VerticalAlignment="{TemplateBinding FrameworkElement.VerticalAlignment}">
                  <StackPanel Name="border" Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
                    <lang:LangTextBlock Name="txtHeader" Margin="1" FontSize="{TemplateBinding Control.FontSize}" HorizontalAlignment="Left" LangText="{TemplateBinding HeaderedItemsControl.Header}" LangKey="{TemplateBinding HeaderedItemsControl.Header}" VerticalAlignment="Center" Foreground="{TemplateBinding Control.Foreground}" />
                  </StackPanel>
                  <Popup Name="SubMenuPopup" AllowsTransparency="True" Placement="Bottom" Focusable="False" VerticalOffset="0" PopupAnimation="{DynamicResource {x:Static SystemParameters.MenuPopupAnimationKey}}" IsOpen="{Binding IsSubmenuOpen, RelativeSource={RelativeSource TemplatedParent}}" PlacementTarget="{Binding ElementName=txtHeader}">
                    <Border>
                      <Grid Name="SubMenu" IsSharedSizeScope="True">
                        <StackPanel Margin="0" IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Cycle" />
                      </Grid>
                    </Border>
                  </Popup>
                </Grid>
              </Border>
            </ControlTemplate>
          </Setter.Value>
        </Setter>
      </Style>
      <Style x:Key="{x:Type ToolTip}" TargetType="{x:Type ToolTip}">
        <Setter Property="FrameworkElement.OverridesDefaultStyle" Value="True" />
        <Setter Property="ToolTip.HasDropShadow" Value="True" />
        <Setter Property="Foreground" Value="#FFFFFFFF" />
        <Setter Property="FontSize" Value="11" />
        <Setter Property="ToolTip.Placement" Value="MousePoint" />
        <Setter Property="ToolTip.VerticalOffset" Value="10" />
        <Setter Property="ToolTip.HorizontalOffset" Value="15" />
        <Setter Property="HorizontalContentAlignment" Value="Center" />
        <Setter Property="Template">
          <Setter.Value>
            <ControlTemplate TargetType="{x:Type ToolTip}">
              <Border Name="bg" Background="#efefef" Padding="10 8 10 8" CornerRadius="4" BorderBrush="{TemplateBinding Control.BorderBrush}" BorderThickness="{TemplateBinding Control.BorderThickness}">
                <TextBlock Foreground="#828282" Text="{TemplateBinding ContentControl.Content}" Width="130" Height="auto" TextWrapping="Wrap" />
              </Border>
            </ControlTemplate>
          </Setter.Value>
        </Setter>
      </Style>
      <Style x:Key="MenuStyle" TargetType="{x:Type Menu}">
        <Setter Property="UIElement.SnapsToDevicePixels" Value="True" />
        <Setter Property="RenderOptions.ClearTypeHint" Value="Enabled" />
        <Setter Property="TextOptions.TextFormattingMode" Value="Ideal" />
        <Setter Property="Foreground" Value="#43B5E2" />
        <Setter Property="ItemContainerStyle" Value="{StaticResource MenuItemStyle}" />
        <Setter Property="Template">
          <Setter.Value>
            <ControlTemplate TargetType="{x:Type Menu}">
              <Border BorderBrush="#43B5E2" BorderThickness="1" SnapsToDevicePixels="{TemplateBinding UIElement.SnapsToDevicePixels}">
                <ItemsPresenter Margin="0" SnapsToDevicePixels="{TemplateBinding UIElement.SnapsToDevicePixels}" />
              </Border>
            </ControlTemplate>
          </Setter.Value>
        </Setter>
      </Style>
    </ResourceDictionary>
  </FrameworkElement.Resources>
  <Grid>
    <DockPanel Margin="25 20">
      <ListBox Name="musictopmenulist" DockPanel.Dock="Top" Style="{StaticResource TopAlbumListBoxStyle}" SelectedIndex="{Binding SelectedIndex}" SelectionChanged="MusicViewChange">
        <ListBoxItem>
          <TextBlock VerticalAlignment="Center" HorizontalAlignment="Center">
            <lang:LangRun LangText="Songs" LangKey="K0476" /> <Run Text="(" /> <Run Text="{Binding MusicCount}" /> <Run Text=")" /></TextBlock>
        </ListBoxItem>
        <ListBoxItem>
          <TextBlock VerticalAlignment="Center" HorizontalAlignment="Center">
            <lang:LangRun LangText="Album" LangKey="K0547" /> <Run Text="(" /> <Run Text="{Binding AlbumCount}" /> <Run Text=")" /></TextBlock>
        </ListBoxItem>
      </ListBox>
      <Grid Background="#ffffff">
        <Grid.RowDefinitions>
          <RowDefinition Height="49" />
          <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <Border Grid.Row="0" BorderBrush="#EEEFEF" BorderThickness="0 2 0 2">
          <DockPanel Margin="7 0 0 0">
            <StackPanel Orientation="Horizontal">
              <FrameworkElement.Resources>
                <ResourceDictionary>
                  <Style x:Key="{x:Type lang:LangTextBlock}" BasedOn="{StaticResource ToolMenuButtonTextStyle}" TargetType="{x:Type lang:LangTextBlock}" />
                  <Style x:Key="{x:Type genericControls:IconButton}" TargetType="{x:Type genericControls:IconButton}" BasedOn="{StaticResource ToolMenuButtonStyle}" />
                </ResourceDictionary>
              </FrameworkElement.Resources>
              <genericControls:IconButton Name="albumBack" Visibility="Collapsed" Click="BacktoMusicAlbum">
                <genericControls:IconButton.Header>
                  <lang:LangTextBlock LangText="Back to album" LangKey="K0559" />
                </genericControls:IconButton.Header>
                <genericControls:IconButton.Icon>
                  <Image Source="{StaticResource backDrawingImage}" Stretch="None" />
                </genericControls:IconButton.Icon>
              </genericControls:IconButton>
              <Line X1="1" Y1="0" X2="1" Y2="12" Stroke="#EFEFEF" StrokeThickness="1" VerticalAlignment="Center" Margin="0 0 14 0" Visibility="{Binding Visibility, ElementName=albumBack}" />
              <genericControls:IconButton Click="AddSong">
                <genericControls:IconButton.Header>
                  <lang:LangTextBlock LangText="Import" LangKey="K0429" />
                </genericControls:IconButton.Header>
                <genericControls:IconButton.Icon>
                  <Image Source="{StaticResource TopBarImportImage}" Stretch="None" />
                </genericControls:IconButton.Icon>
                <genericControls:IconButton.DisabledIcon>
                  <Image Source="{StaticResource TopBarImportDisabledImage}" Stretch="None" />
                </genericControls:IconButton.DisabledIcon>
              </genericControls:IconButton>
              <Line X1="1" Y1="0" X2="1" Y2="12" Stroke="#EFEFEF" StrokeThickness="1" VerticalAlignment="Center" Margin="0 0 14 0" />
              <genericControls:IconButton Name="btnExport" IsEnabled="False" Click="ExportMusic">
                <genericControls:IconButton.Header>
                  <lang:LangTextBlock LangText="Export" LangKey="K0484" />
                </genericControls:IconButton.Header>
                <genericControls:IconButton.Icon>
                  <Image Source="{StaticResource TopBarExportImage}" Stretch="None" />
                </genericControls:IconButton.Icon>
                <genericControls:IconButton.DisabledIcon>
                  <Image Source="{StaticResource TopBarExportDisabledImage}" Stretch="None" />
                </genericControls:IconButton.DisabledIcon>
              </genericControls:IconButton>
              <Line X1="1" Y1="0" X2="1" Y2="12" Stroke="#EFEFEF" StrokeThickness="1" VerticalAlignment="Center" Margin="0 0 14 0" />
              <genericControls:IconButton Name="btnDelete" IsEnabled="False" Click="DeleteSong">
                <genericControls:IconButton.Header>
                  <lang:LangTextBlock LangText="Delete" LangKey="K0583" />
                </genericControls:IconButton.Header>
                <genericControls:IconButton.Icon>
                  <Image Source="{StaticResource TopBarDeleteImage}" Stretch="None" />
                </genericControls:IconButton.Icon>
                <genericControls:IconButton.DisabledIcon>
                  <Image Source="{StaticResource TopBarDeleteDisabledImage}" Stretch="None" />
                </genericControls:IconButton.DisabledIcon>
              </genericControls:IconButton>
              <Line X1="1" Y1="0" X2="1" Y2="12" Stroke="#EFEFEF" StrokeThickness="1" VerticalAlignment="Center" Margin="0 0 14 0" />
              <genericControls:IconButton Click="RefreshList">
                <genericControls:IconButton.Header>
                  <lang:LangTextBlock LangText="Refresh" LangKey="K0473" />
                </genericControls:IconButton.Header>
                <genericControls:IconButton.Icon>
                  <Image Source="{StaticResource TopBarRefreshImage}" Stretch="None" />
                </genericControls:IconButton.Icon>
                <genericControls:IconButton.DisabledIcon>
                  <Image Source="{StaticResource TopBarRefreshDisabledImage}" Stretch="None" />
                </genericControls:IconButton.DisabledIcon>
              </genericControls:IconButton>
            </StackPanel>
            <TextBox Name="txbSearch" DockPanel.Dock="Right" HorizontalAlignment="Right" Style="{DynamicResource CustomTextboxStyle}" local:ControlAttachProperty.LeftClickCommand="{Binding MusicSearchCommand}" KeyDown="SearchMusicByKey" />
          </DockPanel>
        </Border>
        <CheckBox Name="checkAll" Margin="12 0 0 0" Style="{StaticResource EmptyCheckBoxStyle}" Visibility="Collapsed" IsChecked="{Binding IsAllSelected, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
        <DataGrid Name="MusicListData" Visibility="Visible" Margin="0 0 0 38" Grid.Row="2" CanUserSortColumns="True" CanUserResizeRows="False" AutoGenerateColumns="False" CanUserReorderColumns="False" CanUserAddRows="False" SelectionMode="Single" IsReadOnly="True" CanUserResizeColumns="True" BorderBrush="#00FFFFFF" ItemsSource="{Binding SongList}" SelectedItem="{Binding SelectedItem, Mode=TwoWay}" Style="{StaticResource {ComponentResourceKey TypeInTargetAssembly=generic:ComponentResources, ResourceId=DefaultDataGridStyle}}" CellStyle="{StaticResource {ComponentResourceKey TypeInTargetAssembly=generic:ComponentResources, ResourceId=DefaultDataGridCellStyle}}" MouseDoubleClick="SongList_DBClick">
          <DataGrid.Columns>
            <DataGridTemplateColumn Width="32" MinWidth="32" CanUserResize="False">
              <DataGridColumn.HeaderTemplate>
                <DataTemplate>
                  <CheckBox Name="CheckAll" Style="{StaticResource EmptyCheckBoxStyle}" IsChecked="{Binding Path=DataContext.IsAllSelected, ElementName=MusicListData}" Click="CheckAll_Click" />
                </DataTemplate>
              </DataGridColumn.HeaderTemplate>
              <DataGridTemplateColumn.CellTemplate>
                <DataTemplate>
                  <CheckBox HorizontalAlignment="Center" Style="{StaticResource EmptyCheckBoxStyle}" IsChecked="{Binding IsSelected, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Click="CheckOne_Click" />
                </DataTemplate>
              </DataGridTemplateColumn.CellTemplate>
              <DataGridColumn.HeaderStyle>
                <Style TargetType="{x:Type DataGridColumnHeader}">
                  <Setter Property="Height" Value="30" />
                  <Setter Property="Background" Value="#00FFFFFF" />
                  <Setter Property="HorizontalAlignment" Value="Center" />
                </Style>
              </DataGridColumn.HeaderStyle>
            </DataGridTemplateColumn>
            <DataGridTemplateColumn SortMemberPath="SongName" MinWidth="100" Width="SizeToCells" IsReadOnly="True">
              <DataGridColumn.HeaderTemplate>
                <DataTemplate>
                  <Grid Margin="10 0" MouseDown="orderMusicByName_MouseUp">
                    <lang:LangTextBlock HorizontalAlignment="Left" LangText="Name" LangKey="K0487" Style="{StaticResource DataGridColumnTextStyle}" />
                    <Button Visibility="Collapsed" Style="{StaticResource TransparentButtonStyle}" />
                  </Grid>
                </DataTemplate>
              </DataGridColumn.HeaderTemplate>
              <DataGridTemplateColumn.CellTemplate>
                <DataTemplate>
                  <Grid>
                    <Grid.ColumnDefinitions>
                      <ColumnDefinition Width="50" />
                      <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <Image Grid.Column="0" Width="30" Height="30" Source="{StaticResource musicDrawingImage}" />
                    <TextBlock Grid.Column="1" VerticalAlignment="Center" TextTrimming="CharacterEllipsis" Text="{Binding SongName}">
                      <i:Interaction.Behaviors>
                        <behavior:EllipseBehavior />
                      </i:Interaction.Behaviors>
                    </TextBlock>
                  </Grid>
                </DataTemplate>
              </DataGridTemplateColumn.CellTemplate>
            </DataGridTemplateColumn>
            <DataGridTextColumn Width="*" MinWidth="70" Binding="{Binding Artist}">
              <DataGridColumn.Header>
                <lang:LangTextBlock LangText="Artist" LangKey="K0546" Style="{StaticResource DataGridColumnTextStyle}" />
              </DataGridColumn.Header>
            </DataGridTextColumn>
            <DataGridTextColumn Width="*" MinWidth="80" Binding="{Binding Album}">
              <DataGridColumn.Header>
                <lang:LangTextBlock LangText="Album" LangKey="K0547" Style="{StaticResource DataGridColumnTextStyle}" />
              </DataGridColumn.Header>
            </DataGridTextColumn>
            <DataGridTextColumn Width="*" MinWidth="60" SortMemberPath="IntDuration" Binding="{Binding Duration}">
              <DataGridColumn.Header>
                <lang:LangTextBlock LangText="Duration" LangKey="K0513" Style="{StaticResource DataGridColumnTextStyle}" />
              </DataGridColumn.Header>
            </DataGridTextColumn>
            <DataGridTextColumn Width="*" MinWidth="60" SortMemberPath="LongSize" Binding="{Binding Size}">
              <DataGridColumn.Header>
                <lang:LangTextBlock LangText="Size" LangKey="K0378" Style="{StaticResource DataGridColumnTextStyle}" />
              </DataGridColumn.Header>
            </DataGridTextColumn>
            <DataGridTextColumn Width="*" MinWidth="130" Binding="{Binding ModifiedDate}">
              <DataGridColumn.Header>
                <lang:LangTextBlock LangText="Modified date" LangKey="K0545" Style="{StaticResource DataGridColumnTextStyle}" />
              </DataGridColumn.Header>
            </DataGridTextColumn>
            <DataGridTemplateColumn Width="70" MinWidth="30" Header=" ">
              <DataGridTemplateColumn.CellTemplate>
                <DataTemplate>
                  <Border Margin="0" Background="#00FFFFFF">
                    <Grid>
                      <Menu Name="menum" Padding="0" Background="#00FFFFFF" VerticalAlignment="Center">
                        <genericControls:MouseOverMenuItem BorderThickness="0" Background="#00FFFFFF" Padding="0" Margin="3" Tag="RootItem" ToolTip="Set as ringtone" lang:LangToolTip.ToolTipKey="K0548" MouseOverForeground="#00FFFFFF" MouseOverBackground="#00FFFFFF" Template="{StaticResource {ComponentResourceKey TypeInTargetAssembly=generic:ComponentResources, ResourceId=DefalutMenuItemControlTemplate}}">
                          <MenuItem.Icon>
                            <Image Source="{StaticResource Set_Ringtone_DrawingImage}" Width="15" />
                          </MenuItem.Icon>
                          <genericControls:MouseOverMenuItem.MouseOverIcon>
                            <Image Source="{StaticResource Set_Ringtone_DrawingImage}" Width="15" />
                          </genericControls:MouseOverMenuItem.MouseOverIcon>
                          <genericControls:MouseOverMenuItem Name="call" MinWidth="150" Height="32" Margin="0" BorderThickness="0" Background="#ffffff" MouseOverForeground="#ffffff" MouseOverBackground="#43B5E2" Tag="Call" Template="{StaticResource {ComponentResourceKey TypeInTargetAssembly=generic:ComponentResources, ResourceId=DefalutMenuItemControlTemplate}}" Click="SetMusicNotify">
                            <HeaderedItemsControl.Header>
                              <lang:LangTextBlock Margin="5 0 3 0" FontSize="9pt" LangText="Call" LangKey="K0549" VerticalAlignment="Center" Foreground="#777776" HorizontalAlignment="Left" />
                            </HeaderedItemsControl.Header>
                            <genericControls:MouseOverMenuItem.MouseOverHeader>
                              <lang:LangTextBlock Margin="5 0 3 0" FontSize="9pt" LangText="Call" LangKey="K0549" VerticalAlignment="Center" HorizontalAlignment="Left" Foreground="#ffffff" />
                            </genericControls:MouseOverMenuItem.MouseOverHeader>
                          </genericControls:MouseOverMenuItem>
                          <genericControls:MouseOverMenuItem Name="notification" MinWidth="150" Height="32" Margin="0" BorderThickness="0" Background="#ffffff" MouseOverForeground="#ffffff" MouseOverBackground="#43B5E2" Tag="Notification" Template="{StaticResource {ComponentResourceKey TypeInTargetAssembly=generic:ComponentResources, ResourceId=DefalutMenuItemControlTemplate}}" Click="SetMusicNotify">
                            <HeaderedItemsControl.Header>
                              <lang:LangTextBlock Margin="5 0 3 0" FontSize="9pt" LangText="Notification" LangKey="K0550" VerticalAlignment="Center" Foreground="#777776" HorizontalAlignment="Left" />
                            </HeaderedItemsControl.Header>
                            <genericControls:MouseOverMenuItem.MouseOverHeader>
                              <lang:LangTextBlock Margin="5 0 3 0" FontSize="9pt" LangText="Notification" LangKey="K0550" VerticalAlignment="Center" HorizontalAlignment="Left" Foreground="#ffffff" />
                            </genericControls:MouseOverMenuItem.MouseOverHeader>
                            <genericControls:MouseOverMenuItem.TipsContent>
                              <Path Fill="#FFFF0000" Margin="0 8 -2 0" HorizontalAlignment="Right" VerticalAlignment="Top">
                                <Path.Data>
                                  <EllipseGeometry Center="0,0" RadiusX="2" RadiusY="2" />
                                </Path.Data>
                              </Path>
                            </genericControls:MouseOverMenuItem.TipsContent>
                          </genericControls:MouseOverMenuItem>
                          <genericControls:MouseOverMenuItem Name="alarm" MinWidth="150" Height="32" Margin="0" BorderThickness="0" Background="#ffffff" Tag="Alarm" MouseOverForeground="#ffffff" MouseOverBackground="#43B5E2" IsEnabled="{Binding IsEnabled, ElementName=menum}" Template="{StaticResource {ComponentResourceKey TypeInTargetAssembly=generic:ComponentResources, ResourceId=DefalutMenuItemControlTemplate}}" Click="SetMusicNotify">
                            <HeaderedItemsControl.Header>
                              <lang:LangTextBlock Margin="5 0 3 0" FontSize="9pt" LangText="Alarm" LangKey="K0551" VerticalAlignment="Center" Foreground="#777776" HorizontalAlignment="Left" />
                            </HeaderedItemsControl.Header>
                            <genericControls:MouseOverMenuItem.MouseOverHeader>
                              <lang:LangTextBlock Margin="5 0 3 0" FontSize="9pt" LangText="Alarm" LangKey="K0551" VerticalAlignment="Center" HorizontalAlignment="Left" Foreground="#ffffff" />
                            </genericControls:MouseOverMenuItem.MouseOverHeader>
                          </genericControls:MouseOverMenuItem>
                        </genericControls:MouseOverMenuItem>
                      </Menu>
                    </Grid>
                  </Border>
                </DataTemplate>
              </DataGridTemplateColumn.CellTemplate>
            </DataGridTemplateColumn>
          </DataGrid.Columns>
        </DataGrid>
        <ScrollViewer Name="AlbumScrolls" Grid.Row="2" Visibility="Hidden" Margin="0" CanContentScroll="True" Style="{StaticResource {ComponentResourceKey TypeInTargetAssembly=generic:ComponentResources, ResourceId=DefalutScrollViewerStyle}}" PreviewMouseWheel="ScrollViewer_PreviewMouseWheel">
          <ListBox Name="albumListBox" SelectedIndex="0" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Auto" ItemContainerStyle="{StaticResource MusicAlbumListboxContainerStyle}" Style="{StaticResource AlbumContentListBoxStyle}" ItemsSource="{Binding Albums}">
            <ItemsControl.ItemTemplate>
              <DataTemplate>
                <Canvas Background="#FFFFFFFF" Width="110" Height="130" ToolTipService.ToolTip="{Binding AlbumPath}">
                  <Rectangle Canvas.Left="1" Canvas.Top="1" Fill="#FFFFFF" Width="108" Height="108" RadiusX="8" RadiusY="8" />
                  <Rectangle Canvas.Left="13" Canvas.Top="8" Width="83" Height="10" Fill="#D2DFE5" RadiusX="3" RadiusY="3" />
                  <Rectangle Canvas.Left="10" Canvas.Top="12" Width="90" Height="90" Fill="#F0F0F0" RadiusX="3" RadiusY="3" />
                  <Image Canvas.Left="6" Canvas.Bottom="0" Width="12" Height="12" Source="{Binding AlbumIconImageSource}" />
                  <TextBlock Canvas.Left="23" Canvas.Top="117" Foreground="#9B9B9B" FontSize="10" Text="{Binding AlbumName}" />
                  <TextBlock Canvas.Bottom="0" Canvas.Right="6" Foreground="#9B9B9B" FontSize="10" Text="{Binding FileCount}" />
                  <Image Canvas.Left="12" Canvas.Top="14" Width="86" Height="86" Source="{Binding FolderImageSource}" />
                </Canvas>
              </DataTemplate>
            </ItemsControl.ItemTemplate>
          </ListBox>
        </ScrollViewer>
      </Grid>
    </DockPanel>
    <local:MusicPlayerControl Height="58" VerticalAlignment="Bottom" Visibility="{Binding Visibility, ElementName=MusicListData}" />
  </Grid>
</UserControl>
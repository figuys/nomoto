<?xml version="1.0" encoding="utf-8"?>
<UserControl x:Class="lenovo.mbg.service.lmsa.phoneManager.UserControlsV6.PICMgtViewV7" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:lang="clr-namespace:lenovo.mbg.service.framework.lang;assembly=lenovo.mbg.service.framework.lang" xmlns:local="clr-namespace:lenovo.mbg.service.lmsa.phoneManager.UserControls" xmlns:localViewModelsV6="clr-namespace:lenovo.mbg.service.lmsa.phoneManager.ViewModelV6" xmlns:genericControls="clr-namespace:lenovo.themes.generic.Controls;assembly=lenovo.themes.generic" xmlns:genericControlsV6="clr-namespace:lenovo.themes.generic.ControlsV6;assembly=lenovo.themes.generic" xmlns:genericConvert="clr-namespace:lenovo.themes.generic.Converter;assembly=lenovo.themes.generic" xmlns:usercontrolsv6="clr-namespace:lenovo.mbg.service.lmsa.phoneManager.UserControlsV6">
  <FrameworkElement.Resources>
    <ResourceDictionary>
      <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="pack://application:,,,/lenovo.themes.generic;component/ThemesV6/GenericStyle.xaml" />
        <ResourceDictionary Source="pack://application:,,,/lenovo.themes.generic;component/ThemesV6/DataGridStyle.xaml" />
        <ResourceDictionary Source="pack://application:,,,/lenovo.themes.generic;component/ThemesV6/ButtonStyle.xaml" />
        <ResourceDictionary Source="pack://application:,,,/lenovo.themes.generic;component/ThemesV6/CheckBoxStyle.xaml" />
        <ResourceDictionary Source="pack://application:,,,/lenovo.themes.generic;component/ThemesV6/ScrollViewerStyleV6.xaml" />
        <ResourceDictionary Source="pack://application:,,,/lenovo.themes.generic;component/ThemesV6/DrawingImageStyle.xaml" />
        <ResourceDictionary Source="../Themes/MenuNavigationIcon.xaml" />
        <ResourceDictionary Source="../ThemesV6/MenuNavigationV6.xaml" />
        <ResourceDictionary Source="../ThemesV6/IconSvgDrawingIamge.xaml" />
      </ResourceDictionary.MergedDictionaries>
      <BooleanToVisibilityConverter x:Key="booleanToVisibilityConverter" />
      <genericConvert:CompareValueConverter x:Key="CompareValueConverter" />
      <genericConvert:FileSize2StrConverter x:Key="FileSize2StrConverter" />
      <localViewModelsV6:PicItemSourceBingConverter x:Key="picItemSourceBingConverter" />
      <Style x:Key="v7_PicListBoxItemStyle" TargetType="{x:Type ListBoxItem}">
        <Setter Property="FrameworkElement.Cursor" Value="Hand" />
        <Setter Property="ListBoxItem.IsSelected" Value="{Binding IsSelected, Mode=TwoWay}" />
        <Setter Property="FrameworkElement.OverridesDefaultStyle" Value="True" />
        <Setter Property="Template">
          <Setter.Value>
            <ControlTemplate TargetType="{x:Type ListBoxItem}">
              <Grid Width="110" Height="110">
                <UIElement.InputBindings>
                  <MouseBinding Gesture="LeftDoubleClick" Command="{Binding DoubleMouseClickCommand}" />
                </UIElement.InputBindings>
                <Image Name="imgDefault" Width="101" Height="98" Visibility="Hidden" Source="pack://application:,,,/lenovo.mbg.service.lmsa.phoneManager;component/ResourcesV6/v7_picture_default.png" />
                <Border Name="borderLine" Background="#4DCEEAF9" Width="100" Height="100" BorderThickness="2" CornerRadius="5" Visibility="Hidden" BorderBrush="{StaticResource V6_HighLightBkgBrushKey}" />
                <Image Name="imgSource" Width="77" Height="77" Stretch="Uniform" VerticalAlignment="Center" Source="{Binding PhotoImageSource}" />
                <Image Name="albumChooseIcon" Width="25" Height="29" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="7" Visibility="Hidden" Source="{StaticResource v6_icon_picture_selected}" />
              </Grid>
              <ControlTemplate.Triggers>
                <Trigger Property="ListBoxItem.IsSelected" Value="True">
                  <Setter TargetName="borderLine" Property="Visibility" Value="Visible" />
                  <Setter TargetName="albumChooseIcon" Property="Visibility" Value="Visible" />
                </Trigger>
                <Trigger Property="UIElement.IsMouseOver" Value="True">
                  <Setter TargetName="borderLine" Property="Visibility" Value="Visible" />
                </Trigger>
                <DataTrigger Binding="{Binding Path=PhotoImageSource}" Value="{x:Null}">
                  <Setter TargetName="imgDefault" Property="Visibility" Value="Visible" />
                </DataTrigger>
              </ControlTemplate.Triggers>
            </ControlTemplate>
          </Setter.Value>
        </Setter>
      </Style>
      <Style x:Key="v7_PicListBoxStyle" TargetType="{x:Type ListBox}">
        <Setter Property="Background" Value="#00FFFFFF" />
        <Setter Property="Padding" Value="0" />
        <Setter Property="BorderThickness" Value="0" />
        <Setter Property="ListBox.SelectionMode" Value="Multiple" />
        <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled" />
        <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Disabled" />
        <Setter Property="ItemContainerStyle" Value="{StaticResource v7_PicListBoxItemStyle}" />
        <Setter Property="Template">
          <Setter.Value>
            <ControlTemplate TargetType="{x:Type ListBox}">
              <Border Background="{TemplateBinding Control.Background}">
                <ItemsPresenter />
              </Border>
            </ControlTemplate>
          </Setter.Value>
        </Setter>
        <Setter Property="ItemsPanel">
          <Setter.Value>
            <ItemsPanelTemplate>
              <WrapPanel />
            </ItemsPanelTemplate>
          </Setter.Value>
        </Setter>
      </Style>
      <Style x:Key="v7_DateListBoxItemStyle" TargetType="{x:Type ListBoxItem}">
        <Setter Property="FrameworkElement.OverridesDefaultStyle" Value="True" />
        <Setter Property="Template">
          <Setter.Value>
            <ControlTemplate TargetType="{x:Type ListBoxItem}">
              <StackPanel Background="#00FFFFFF">
                <Grid Margin="5 10" Width="590">
                  <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto" />
                    <ColumnDefinition Width="auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="auto" />
                  </Grid.ColumnDefinitions>
                  <CheckBox Name="YesterDay" Grid.Column="0" HorizontalAlignment="Left" Style="{StaticResource v7_my_device_checkbox}" IsChecked="{Binding IsListSelected}" Command="{Binding PicSelectAllCommand}" CommandParameter="{Binding RelativeSource={RelativeSource Self}}" />
                  <TextBlock Grid.Column="1" Margin="5 0 0 0" Foreground="#FF001429" FontSize="14" VerticalAlignment="Center" Text="{Binding GroupKey}" />
                  <ToggleButton Name="ExpanderBtn" Grid.Column="2" Margin="5 0 0 0" IsChecked="True" ClickMode="Press">
                    <Control.Template>
                      <ControlTemplate TargetType="{x:Type ToggleButton}">
                        <Border VerticalAlignment="Center" HorizontalAlignment="Left" Width="20" Height="20">
                          <Image Name="ExpanderIcon" Width="12" Height="7" RenderTransformOrigin="0.5,0.5" Source="{StaticResource v7_icon_pull_down}" />
                        </Border>
                        <ControlTemplate.Triggers>
                          <Trigger Property="ToggleButton.IsChecked" Value="False">
                            <Setter TargetName="ExpanderIcon" Property="RenderTransform">
                              <Setter.Value>
                                <RotateTransform Angle="180" />
                              </Setter.Value>
                            </Setter>
                          </Trigger>
                        </ControlTemplate.Triggers>
                      </ControlTemplate>
                    </Control.Template>
                  </ToggleButton>
                  <Border Grid.Column="3" MinHeight="22" MinWidth="42" CornerRadius="12" HorizontalAlignment="Right" Background="{StaticResource V6_DisableBrushKey}">
                    <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="14" Foreground="{StaticResource V6_ThemeFgdBrushKey}" Text="{Binding PicCount}" />
                  </Border>
                </Grid>
                <ListBox Style="{StaticResource v7_PicListBoxStyle}" Visibility="{Binding ElementName=ExpanderBtn, Path=IsChecked, Converter={StaticResource booleanToVisibilityConverter}}" ItemsSource="{Binding Pics}" />
              </StackPanel>
            </ControlTemplate>
          </Setter.Value>
        </Setter>
      </Style>
      <Style x:Key="v7_DateListBoxStyle" TargetType="{x:Type ListBox}">
        <Setter Property="Background" Value="#00FFFFFF" />
        <Setter Property="Padding" Value="0" />
        <Setter Property="BorderThickness" Value="0" />
        <Setter Property="ListBox.SelectionMode" Value="Multiple" />
        <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled" />
        <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Disabled" />
        <Setter Property="ItemContainerStyle" Value="{StaticResource v7_DateListBoxItemStyle}" />
        <Setter Property="Template">
          <Setter.Value>
            <ControlTemplate TargetType="{x:Type ListBox}">
              <Border Background="{TemplateBinding Control.Background}">
                <ItemsPresenter />
              </Border>
            </ControlTemplate>
          </Setter.Value>
        </Setter>
      </Style>
      <Style x:Key="v7_AlbumListBoxItemStyle" TargetType="{x:Type ListBoxItem}">
        <Setter Property="Background" Value="#FFFFFFFF" />
        <Setter Property="Padding" Value="0" />
        <Setter Property="BorderThickness" Value="0" />
        <Setter Property="ListBoxItem.IsSelected" Value="{Binding IsSelected}" />
        <Setter Property="Template">
          <Setter.Value>
            <ControlTemplate TargetType="{x:Type ListBoxItem}">
              <Grid Width="200" Background="{TemplateBinding Control.Background}" Height="42" Cursor="Hand" ToolTipService.ToolTip="{Binding AlbumPath}">
                <UIElement.InputBindings>
                  <MouseBinding MouseAction="LeftClick" Command="{Binding SingleClickCommand}" CommandParameter="{Binding}" />
                </UIElement.InputBindings>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="auto" />
                  <ColumnDefinition Width="auto" />
                </Grid.ColumnDefinitions>
                <StackPanel Grid.Column="0" Orientation="Horizontal">
                  <CheckBox Margin="5 0 0 0" Style="{StaticResource v7_my_device_checkbox}" IsChecked="{Binding IsSelectedAllPic, Mode=TwoWay}" Command="{Binding SingleClickCommand}" CommandParameter="{Binding}" />
                  <Image Grid.Row="2" Margin="5 0 0 0" Width="19" Height="16" Source="{StaticResource v7_device_pictures_default_icon}" />
                  <TextBlock Margin="8 0 0 0" Width="82" HorizontalAlignment="Left" VerticalAlignment="Center" TextTrimming="CharacterEllipsis" Foreground="#FF001429" Text="{Binding AlbumName}" />
                </StackPanel>
                <StackPanel Grid.Column="1" Width="40" VerticalAlignment="Center">
                  <TextBlock Margin="0 0 0 0" HorizontalAlignment="Right" VerticalAlignment="Center" FontSize="12" Foreground="#FF6D86AB" Text="{Binding FileCount}" />
                </StackPanel>
              </Grid>
              <ControlTemplate.Triggers>
                <Trigger Property="ListBoxItem.IsSelected" Value="True">
                  <Setter Property="Background" Value="#FFCEEAF9" />
                </Trigger>
              </ControlTemplate.Triggers>
            </ControlTemplate>
          </Setter.Value>
        </Setter>
      </Style>
    </ResourceDictionary>
  </FrameworkElement.Resources>
  <StackPanel Orientation="Vertical">
    <StackPanel Margin="0 10" Orientation="Horizontal">
      <lang:LangButton Style="{StaticResource v7_device_import_button}" Margin="14 0 0 0" LangKey="{Binding ButtonTextDisplay}" IsEnabled="{Binding IsEnabled}" Command="{Binding ClickCommand}" DataContext="{Binding PicToolImportBtn}" CommandParameter="{Binding}" />
      <lang:LangButton Style="{StaticResource v7_device_export_button}" Margin="13 0 0 0" LangKey="{Binding ButtonTextDisplay}" IsEnabled="{Binding IsEnabled}" Command="{Binding ClickCommand}" DataContext="{Binding PicToolExportBtn}" CommandParameter="{Binding}" />
      <TextBox Name="txbSearch" Margin="13 0 0 0" HorizontalAlignment="Right" Style="{StaticResource v6_SearchTextBoxStyle}" Text="{Binding SearchText}" local:ControlAttachProperty.LeftClickCommand="{Binding SearchCommand}">
        <UIElement.InputBindings>
          <KeyBinding Key="Enter" Command="{Binding SearchCommand}" CommandParameter="{Binding Text, ElementName=txbSearch}" />
        </UIElement.InputBindings>
      </TextBox>
      <genericControls:IconButton Name="btnDelete" LangKey="K0583" ToolTip="K0583" Margin="0 0 0 0" Icon="{StaticResource v6_device_icon_delete}" DisabledIcon="{StaticResource v6_device_icon_delete_disable}" Style="{StaticResource v7_MenuTopIconTextboxButtonStyle}" IsEnabled="{Binding IsEnabled}" Command="{Binding ClickCommand}" DataContext="{Binding PicToolDeleteBtn}" CommandParameter="{Binding}" />
      <genericControls:IconButton LangKey="K0473" ToolTip="K0473" Margin="-10 0 0 0" Icon="{StaticResource v7_device_icon_refresh}" DisabledIcon="{StaticResource v7_device_icon_refresh_disable}" Style="{StaticResource v7_MenuTopIconTextboxButtonStyle}" IsEnabled="{Binding IsEnabled}" Command="{Binding ClickCommand}" DataContext="{Binding PicToolRefreshBtn}" CommandParameter="{Binding}" />
      <StackPanel Orientation="Horizontal" Margin="5 0 3 0" Background="#FFFFFFFF" HorizontalAlignment="Right" Visibility="{Binding PicDisplayModeVisible}">
        <Line Margin="5 0" X1="0" Y1="0" X2="0" Y2="20" VerticalAlignment="Center" Stroke="#D9EBEFF2" StrokeThickness="1" />
        <RadioButton Name="rbCheckList" Width="20" Height="20" GroupName="rbListCard" Style="{StaticResource V6_PathIconRBtnStyle}">
          <Path Stretch="Fill" Data="M0,0 L13,0 L13,1.6 L0,1.6 L0,0 M0,10.2857143 L8.125,10.2857143 L8.125,11.8857143 L0,11.8857143 L0,10.2857143 M0,5.14285714 L13,5.14285714 L13,6.74285714 L0,6.74285714 L0,5.14285714 L0,5.14285714" Fill="{Binding Path=Foreground, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=RadioButton}}" />
        </RadioButton>
        <RadioButton Name="rbCheckCard" Width="22" Height="22" Margin="10 0" GroupName="rbListCard" Style="{StaticResource V6_PathIconRBtnStyle}" IsChecked="True">
          <Path Stretch="Fill" Data="M4.7588815,0 L1.5461345,0 C0.693866289,0 0,0.692872528 0,1.54392011 L0,4.75206579 C0,5.60311337 0.693866289,6.2959859 1.5461345,6.2959859 L4.7588815,6.2959859 C5.61114971,6.2959859 6.30502138,5.60311337 6.30502138,4.75206579 L6.30502138,1.54392011 C6.30725143,0.692872528 5.61338514,0 4.7588815,0 M5.27650163,4.70973174 C5.27650163,5.01717251 5.02662349,5.26671236 4.71872216,5.26671236 L1.59074509,5.26671236 C1.28286337,5.26671236 1.03296562,5.01719209 1.03296562,4.70973174 L1.03296562,1.58846681 C1.03296562,1.28102604 1.28284376,1.0314862 1.59074509,1.0314862 L4.71648673,1.0314862 C5.02436845,1.0314862 5.2742662,1.28100646 5.2742662,1.58846681 L5.2742662,4.70973174 L5.27650163,4.70973174 M12.4538655,0 L9.2411185,0 C8.38885029,0 7.694984,0.692872528 7.694984,1.54392011 L7.694984,4.75206579 C7.694984,5.60311337 8.38885029,6.2959859 9.2411185,6.2959859 L12.4538655,6.2959859 C13.3061337,6.2959859 14,5.60311337 14,4.75206579 L14,1.54392011 C14,0.692872528 13.3061337,0 12.4538655,0 M12.9692502,4.75429802 C12.9692502,5.037243 12.7372163,5.26894459 12.4538655,5.26894459 L9.2411185,5.26894459 C8.95776771,5.26894459 8.7257338,5.037243 8.7257338,4.75429802 L8.7257338,1.54615234 C8.7257338,1.26320736 8.95776771,1.03150578 9.2411185,1.03150578 L12.4538655,1.03150578 C12.7372163,1.03150578 12.9692502,1.26320736 12.9692502,1.54615234 L12.9692502,4.75429802 L12.9692502,4.75429802 M4.7588815,7.7040141 L1.5461345,7.7040141 C0.693866289,7.7040141 0,8.39688663 0,9.24793421 L0,12.4560799 C0,13.3071275 0.693866289,14 1.5461345,14 L4.7588815,14 C5.61114971,14 6.30502138,13.3071275 6.30502138,12.4560799 L6.30502138,9.24793421 C6.30725143,8.39688663 5.61338514,7.7040141 4.7588815,7.7040141 M5.27650163,12.4137458 C5.27650163,12.7211866 5.02662349,12.9707265 4.71872216,12.9707265 L1.59074509,12.9707265 C1.28286337,12.9707265 1.03296562,12.7212062 1.03296562,12.4137458 L1.03296562,9.29248091 C1.03296562,8.98504014 1.28284376,8.73550029 1.59074509,8.73550029 L4.71648673,8.73550029 C5.02436845,8.73550029 5.2742662,8.98502056 5.2742662,9.29248091 L5.2742662,12.4137458 L5.27650163,12.4137458 M12.4538655,7.7040141 L9.2411185,7.7040141 C8.38885029,7.7040141 7.694984,8.39688663 7.694984,9.24793421 L7.694984,12.4560799 C7.694984,13.3071275 8.38885029,14 9.2411185,14 L12.4538655,14 C13.3061337,14 14,13.3071275 14,12.4560799 L14,9.24793421 C14,8.39688663 13.3061337,7.7040141 12.4538655,7.7040141 M12.9692502,12.4560799 C12.9692502,12.7390249 12.7372163,12.9707265 12.4538655,12.9707265 L9.2411185,12.9707265 C8.95776771,12.9707265 8.7257338,12.7390249 8.7257338,12.4560799 L8.7257338,9.24793421 C8.7257338,8.96498923 8.95776771,8.73328764 9.2411185,8.73328764 L12.4538655,8.73328764 C12.7372163,8.73328764 12.9692502,8.96498923 12.9692502,9.24793421 L12.9692502,12.4560799" Fill="{Binding Path=Foreground, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=RadioButton}}" />
        </RadioButton>
        <Line Margin="3 0 0 0" X1="0" Y1="0" X2="0" Y2="20" VerticalAlignment="Center" Stroke="#D9EBEFF2" StrokeThickness="1" />
      </StackPanel>
      <StackPanel Margin="-10 0 0 0" Orientation="Horizontal" HorizontalAlignment="Right" Visibility="{Binding StorageSelectPanelVisibility}">
        <genericControlsV6:SdCardView Name="sdview" TitleMaxWidth="120" Margin="5 0 0 0" DataContext="{Binding SdCarVm}" IsEnabled="{Binding PicToolRefreshBtn.IsEnabled}" />
      </StackPanel>
      <CheckBox Name="ckFocusedAlbumAll" Margin="1000 0 0 0" IsChecked="{Binding FocusedAlbum.IsSelectedAllPic}" />
    </StackPanel>
    <Grid Width="auto" Height="504">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="200" />
        <ColumnDefinition Width="*" />
      </Grid.ColumnDefinitions>
      <Border Grid.Column="0" BorderBrush="#D9EBEFF2" BorderThickness="0 1 1 0">
        <StackPanel>
          <Border BorderBrush="#D9EBEFF2" BorderThickness="0 0 0 1">
            <StackPanel Orientation="Horizontal" Height="40">
              <CheckBox Name="ckbAllItems" Style="{StaticResource v7_my_device_checkbox}" Margin="5 0 0 0" IsChecked="{Binding IsSelectedAllAlbumPic}" IsEnabled="{Binding AllAlbumPicCount, Converter={StaticResource CompareValueConverter}, ConverterParameter=0:false:true}" Click="OnCheckBoxSelectAllAlbums" />
              <lang:LangTextBlock Margin="8 0 0 0" Width="85" HorizontalAlignment="Left" VerticalAlignment="Center" LangText="Pictures" LangKey="K0475" FontSize="14" FontWeight="Bold" Foreground="#FF272727" />
            </StackPanel>
          </Border>
          <ListBox Name="lbAblums" SelectionMode="Single" BorderThickness="0" Height="450" Background="#00FFFFFF" ScrollViewer.CanContentScroll="True" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Auto" ItemContainerStyle="{StaticResource v7_AlbumListBoxItemStyle}" ItemsSource="{Binding Albums}">
            <ItemsControl.ItemsPanel>
              <ItemsPanelTemplate>
                <WrapPanel />
              </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
          </ListBox>
        </StackPanel>
      </Border>
      <Border Grid.Column="1" BorderBrush="#D9EBEFF2">
        <Grid>
          <Border BorderBrush="#D9EBEFF2" BorderThickness="0 1 0 0">
            <ScrollViewer Name="PicScrolls" Grid.Column="1" Style="{StaticResource V6_CommonScrollViewerStyle}" Visibility="{Binding Path=IsChecked, ElementName=rbCheckCard, Converter={StaticResource booleanToVisibilityConverter}}" ScrollChanged="PicScrolls_ScrollChanged" PreviewMouseWheel="PicScrolls_PreviewMouseWheel">
              <ListBox Margin="20 0 0 0" BorderThickness="0" Style="{StaticResource v7_DateListBoxStyle}" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Auto" ScrollViewer.CanContentScroll="True">
                <ItemsControl.ItemsSource>
                  <MultiBinding Converter="{StaticResource picItemSourceBingConverter}" ConverterParameter="grouped">
                    <Binding Path="FocusedAlbum.CachedPicList" />
                    <Binding Path="." />
                    <Binding ElementName="PicScrolls" />
                  </MultiBinding>
                </ItemsControl.ItemsSource>
                <ItemsControl.ItemsPanel>
                  <ItemsPanelTemplate>
                    <WrapPanel ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Disabled" />
                  </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
              </ListBox>
            </ScrollViewer>
          </Border>
          <DataGrid Grid.Row="1" Grid.RowSpan="2" SelectionMode="Single" BorderThickness="0" Style="{StaticResource v6_MyDeviceDataGrid}" CanUserSortColumns="True" Visibility="{Binding Path=IsChecked, ElementName=rbCheckList, Converter={StaticResource booleanToVisibilityConverter}}" ItemsSource="{Binding FocusedAlbum.CachedAllPics}">
            <DataGrid.Columns>
              <DataGridTemplateColumn SortMemberPath="RawPicInfo.VirtualFileName" Width="2*" MinWidth="100">
                <DataGridColumn.HeaderTemplate>
                  <DataTemplate>
                    <StackPanel Orientation="Horizontal">
                      <CheckBox Style="{StaticResource v7_my_device_checkbox}" IsChecked="{Binding Path=IsChecked, Mode=TwoWay, ElementName=ckFocusedAlbumAll}" IsEnabled="{Binding ElementName=ckbAllItems, Path=IsEnabled}" Click="OnCheckBoxSelectAllInAlbum" />
                      <lang:LangTextBlock Margin="5 0 0 0" LangKey="K0487" IsHitTestVisible="False" />
                    </StackPanel>
                  </DataTemplate>
                </DataGridColumn.HeaderTemplate>
                <DataGridTemplateColumn.CellTemplate>
                  <DataTemplate>
                    <StackPanel Orientation="Horizontal">
                      <CheckBox Margin="2 0 0 0" Style="{StaticResource v7_my_device_checkbox}" IsChecked="{Binding IsSelected, UpdateSourceTrigger=PropertyChanged}" />
                      <TextBlock Margin="5 0 0 0" Text="{Binding RawPicInfo.VirtualFileName}" />
                    </StackPanel>
                  </DataTemplate>
                </DataGridTemplateColumn.CellTemplate>
              </DataGridTemplateColumn>
              <DataGridTextColumn Width="0.7*" MinWidth="80" Header="Size" Binding="{Binding RawPicInfo.RawFileSize, Converter={StaticResource FileSize2StrConverter}}">
                <DataGridColumn.HeaderTemplate>
                  <DataTemplate>
                    <lang:LangTextBlock LangKey="K0378" IsHitTestVisible="False" />
                  </DataTemplate>
                </DataGridColumn.HeaderTemplate>
              </DataGridTextColumn>
              <DataGridTextColumn Width="0.7*" MinWidth="80" Header="Type" Binding="{Binding RawPicInfo.ImageType}">
                <DataGridColumn.HeaderTemplate>
                  <DataTemplate>
                    <lang:LangTextBlock LangKey="K0568" IsHitTestVisible="False" />
                  </DataTemplate>
                </DataGridColumn.HeaderTemplate>
              </DataGridTextColumn>
              <DataGridTextColumn Width="*" MinWidth="170" Header="Modified date" Binding="{Binding RawPicInfo.ModifiedDateTime, StringFormat=yyyy-MM-dd HH:mm}">
                <DataGridColumn.HeaderTemplate>
                  <DataTemplate>
                    <lang:LangTextBlock LangKey="K0545" IsHitTestVisible="False" />
                  </DataTemplate>
                </DataGridColumn.HeaderTemplate>
              </DataGridTextColumn>
            </DataGrid.Columns>
          </DataGrid>
        </Grid>
      </Border>
    </Grid>
    <Border Grid.Row="2" BorderThickness="0 1 0 0" BorderBrush="#FFE8EDF3">
      <StackPanel Orientation="Horizontal" Height="30" Margin="0 0 140 0" HorizontalAlignment="Right">
        <TextBlock FontSize="14" Foreground="#FF001429" VerticalAlignment="Center">
          <Run Foreground="#FF005D7F" Text="{Binding AllAlbumPicCount}" /> <lang:LangRun LangText="items," LangKey="K1795" /> <Run Foreground="#FF005D7F" Text="{Binding AllAlbumPicSelectedCount}" /> <lang:LangRun LangText="items selected." LangKey="K1796" /></TextBlock>
        <lang:LangButton Margin="10 0 0 0" LangKey="K0764" Style="{StaticResource V7_OnlyTextBtnStyle}" Visibility="{Binding IsSelectedAllAlbumPic, Converter={StaticResource CompareValueConverter}, ConverterParameter=true:Collapsed:Visible}" IsEnabled="{Binding AllAlbumPicCount, Converter={StaticResource CompareValueConverter}, ConverterParameter=0:false:true}" Click="SelectAllItemClick" />
        <lang:LangButton Margin="10 0 0 0" LangKey="K1774" Style="{StaticResource V7_OnlyTextBtnStyle}" Visibility="{Binding IsSelectedAllAlbumPic, Converter={StaticResource booleanToVisibilityConverter}}" Click="UnselectAllItemClick" />
      </StackPanel>
    </Border>
  </StackPanel>
</UserControl>
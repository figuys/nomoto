<?xml version="1.0" encoding="utf-8"?>
<UserControl x:Class="lenovo.mbg.service.lmsa.toolbox.ScreenCapture.View.ScreenCaptureFrame" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:i="clr-namespace:Microsoft.Xaml.Behaviors;assembly=Microsoft.Xaml.Behaviors" xmlns:iEx="clr-namespace:lenovo.themes.generic.Interactivity.Ex;assembly=lenovo.themes.generic" xmlns:generic="clr-namespace:lenovo.themes.generic;assembly=lenovo.themes.generic" xmlns:genericControls="clr-namespace:lenovo.themes.generic.Controls;assembly=lenovo.themes.generic" xmlns:genericDataList="clr-namespace:lenovo.themes.generic.Component.DataListControl;assembly=lenovo.themes.generic" xmlns:lang="clr-namespace:lenovo.mbg.service.framework.lang;assembly=lenovo.mbg.service.framework.lang" xmlns:view="clr-namespace:lenovo.mbg.service.lmsa.toolbox.ScreenCapture.View;assembly=lenovo.mbg.service.lmsa.toolbox">
  <FrameworkElement.Resources>
    <ResourceDictionary>
      <BooleanToVisibilityConverter x:Key="bool2VisibilityConverter" />
      <Style x:Key="DataGridColumnTextStyle" TargetType="{x:Type lang:LangTextBlock}">
        <Setter Property="FontSize" Value="14" />
        <Setter Property="FontWeight" Value="Medium" />
        <Setter Property="Foreground" Value="#525252" />
        <Setter Property="Margin" Value="5 0 0 0" />
      </Style>
      <Style x:Key="EmptyCheckBoxStyle" TargetType="{x:Type CheckBox}">
        <Setter Property="UIElement.SnapsToDevicePixels" Value="True" />
        <Setter Property="FrameworkElement.OverridesDefaultStyle" Value="True" />
        <Setter Property="Background" Value="#ffffff" />
        <Setter Property="Template">
          <Setter.Value>
            <ControlTemplate TargetType="{x:Type CheckBox}">
              <Grid Background="{TemplateBinding Control.Background}">
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="auto" />
                  <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Border BorderBrush="#00B7E7" BorderThickness="1" Width="12" Height="12" />
                <Image Name="checkedImg" Visibility="Hidden" Width="8" Height="8">
                  <Image.Source>
                    <DrawingImage>
                      <DrawingImage.Drawing>
                        <GeometryDrawing>
                          <GeometryDrawing.Pen>
                            <Pen Brush="#00B7E7" Thickness="1" />
                          </GeometryDrawing.Pen>
                          <GeometryDrawing.Geometry>
                            <PathGeometry>
                              <PathFigure StartPoint="0,7">
                                <PathFigure.Segments>
                                  <LineSegment Point="3,10" />
                                  <LineSegment Point="10,3" />
                                </PathFigure.Segments>
                              </PathFigure>
                            </PathGeometry>
                          </GeometryDrawing.Geometry>
                        </GeometryDrawing>
                      </DrawingImage.Drawing>
                    </DrawingImage>
                  </Image.Source>
                </Image>
                <ContentPresenter Grid.Column="1" />
              </Grid>
              <ControlTemplate.Triggers>
                <Trigger Property="ToggleButton.IsChecked" Value="True">
                  <Setter TargetName="checkedImg" Property="Visibility" Value="Visible" />
                </Trigger>
                <Trigger Property="ToggleButton.IsChecked" Value="False">
                  <Setter TargetName="checkedImg" Property="Visibility" Value="Collapsed" />
                </Trigger>
              </ControlTemplate.Triggers>
            </ControlTemplate>
          </Setter.Value>
        </Setter>
        <Style.Triggers>
          <Trigger Property="ToggleButton.IsChecked" Value="True" />
        </Style.Triggers>
      </Style>
    </ResourceDictionary>
  </FrameworkElement.Resources>
  <Border CornerRadius="7" Width="800" Height="560" Background="#ffffff">
    <Grid>
      <Grid.RowDefinitions>
        <RowDefinition Height="60" />
        <RowDefinition Height="*" />
      </Grid.RowDefinitions>
      <Grid Column="0" Height="50">
        <Border BorderBrush="#DFDFDF" BorderThickness="0 0 0 1" Margin="10 0">
          <Grid>
            <lang:LangTextBlock Margin="25 0 0 0" VerticalAlignment="Center" FontSize="15pt" Foreground="#43B5E2" LangText="Screen Recorder" LangKey="K0255" />
            <Button Style="{StaticResource WndCloseBtnStyle}" Command="{Binding CancelButtonClickCommand}" />
          </Grid>
        </Border>
      </Grid>
      <Grid Row="1">
        <Grid Visibility="{Binding ScreenCupturePanelVisibility}">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="auto" />
            <ColumnDefinition />
          </Grid.ColumnDefinitions>
          <Grid Column="0" Width="258">
            <Grid.RowDefinitions>
              <RowDefinition Height="280" />
              <RowDefinition />
            </Grid.RowDefinitions>
            <StackPanel VerticalAlignment="Bottom" Grid.Row="0">
              <genericControls:IconButton HorizontalAlignment="Center" VerticalAlignment="Bottom" Margin="0 0 0 55" BorderThickness="0" NormalBackground="#00FFFFFF" IconWidth="99" Width="99" Height="100" Style="{StaticResource {ComponentResourceKey TypeInTargetAssembly=generic:ComponentResources, ResourceId=IconButtonStyle2}}" IsEnabled="{Binding StartBtnEnable}" Command="{Binding StartCommand}">
                <genericControls:IconButton.Icon>
                  <Image Source="{DynamicResource bitmapImageScreenCaptureNormal}" Stretch="Fill" />
                </genericControls:IconButton.Icon>
                <genericControls:IconButton.MouseOverIcon>
                  <Image Source="{DynamicResource bitmapImageScreenCaptureClick}" Stretch="Fill" />
                </genericControls:IconButton.MouseOverIcon>
                <genericControls:IconButton.DisabledIcon>
                  <Image Source="{DynamicResource bitmapImageScreenCaptureClick}" Stretch="Fill" />
                </genericControls:IconButton.DisabledIcon>
              </genericControls:IconButton>
            </StackPanel>
            <Grid Margin="35 0 0 0" Row="1" VerticalAlignment="Top" Height="165">
              <lang:LangTextBlock FontSize="12pt" VerticalAlignment="Top" LangText="Click the button to enable screen recording on your device." LangKey="K0254" TextWrapping="Wrap" Foreground="#494949" />
              <lang:LangTextBlock FontSize="10pt" VerticalAlignment="Bottom" LangText="Tips:&#xA;Please use the tablet in portrait mode." LangKey="K1015" TextWrapping="Wrap" Foreground="#EE3F3F" Visibility="{Binding TxtTipsVisibility}" />
            </Grid>
          </Grid>
          <Border Grid.Column="1" BorderBrush="#DDDDDD" BorderThickness="2" Margin="0 18 18 55">
            <genericDataList:DataList DataContext="{Binding VideoDataListViewModel}">
              <genericDataList:DataList.DetailListContent>
                <Border>
                  <DataGrid CanUserSortColumns="True" AutoGenerateColumns="False" CanUserReorderColumns="False" CanUserAddRows="False" Foreground="#494949" CanUserResizeColumns="True" CanUserResizeRows="False" BorderBrush="#00FFFFFF" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Auto" FontFamily="{StaticResource SystemFontKey}" Style="{StaticResource {ComponentResourceKey TypeInTargetAssembly=generic:ComponentResources, ResourceId=DefaultDataGridStyle}}" CellStyle="{StaticResource {ComponentResourceKey TypeInTargetAssembly=generic:ComponentResources, ResourceId=DefaultDataGridCellStyle}}" ItemsSource="{Binding DataItemsSource}">
                    <i:Interaction.Triggers>
                      <iEx:RoutedEventTrigger RoutedEvent="ScrollViewer.ScrollChanged">
                        <iEx:InvokeCommandAction CommandParameter="detail" Command="{Binding DetailListScrollChangedCommand}" />
                      </iEx:RoutedEventTrigger>
                      <i:EventTrigger i:EventTrigger.EventName="Sorting">
                        <iEx:InvokeCommandAction Command="{Binding SortingCommand}" />
                      </i:EventTrigger>
                    </i:Interaction.Triggers>
                    <DataGrid.Columns>
                      <DataGridTemplateColumn MinWidth="40" Width="40" CanUserResize="False">
                        <DataGridColumn.HeaderTemplate>
                          <DataTemplate>
                            <Grid Margin="11 0 0 0">
                              <CheckBox Style="{StaticResource EmptyCheckBoxStyle}" IsChecked="{Binding IsAllChecked, Mode=TwoWay}" DataContext="{Binding DataContext, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type DataGrid}}}" Command="{Binding CheckAllCommand}" CommandParameter="{Binding IsChecked, RelativeSource={RelativeSource Self}}" />
                            </Grid>
                          </DataTemplate>
                        </DataGridColumn.HeaderTemplate>
                        <DataGridTemplateColumn.CellTemplate>
                          <DataTemplate>
                            <Grid HorizontalAlignment="Center">
                              <CheckBox Style="{StaticResource EmptyCheckBoxStyle}" IsChecked="{Binding IsChecked, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Command="{Binding CheckCammand}" CommandParameter="{Binding IsChecked, RelativeSource={RelativeSource Self}}" />
                            </Grid>
                          </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                      </DataGridTemplateColumn>
                      <DataGridTemplateColumn SortMemberPath="Name" Width="*" IsReadOnly="True">
                        <DataGridColumn.HeaderTemplate>
                          <DataTemplate>
                            <lang:LangTextBlock Margin="10 0" VerticalAlignment="Center" HorizontalAlignment="Left" LangText="Name" LangKey="K0487" TextAlignment="Left" Style="{StaticResource DataGridColumnTextStyle}" />
                          </DataTemplate>
                        </DataGridColumn.HeaderTemplate>
                        <DataGridTemplateColumn.CellTemplate>
                          <DataTemplate>
                            <StackPanel Margin="10 0" Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Left" TextBlock.TextAlignment="Left">
                              <Image HorizontalAlignment="Left" Width="30" Height="30" Source="{StaticResource {ComponentResourceKey TypeInTargetAssembly=generic:ComponentResources, ResourceId=album_videoDrawingImage}}" />
                              <TextBlock Width="120" TextTrimming="CharacterEllipsis" Margin="5 0 0 0" VerticalAlignment="Center" FontSize="11" Text="{Binding Name}" ToolTipService.ToolTip="{Binding Text, RelativeSource={RelativeSource Self}}" />
                            </StackPanel>
                          </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                      </DataGridTemplateColumn>
                      <DataGridTextColumn SortMemberPath="LongDuration" MinWidth="80" Width="auto" IsReadOnly="True" Binding="{Binding Duration}">
                        <DataGridColumn.Header>
                          <lang:LangTextBlock LangText="Duration" LangKey="K0513" Style="{StaticResource DataGridColumnTextStyle}" />
                        </DataGridColumn.Header>
                      </DataGridTextColumn>
                      <DataGridTextColumn SortMemberPath="LongSize" MinWidth="80" Width="auto" IsReadOnly="True" Binding="{Binding Size}">
                        <DataGridColumn.Header>
                          <lang:LangTextBlock LangText="Size" LangKey="K0378" Style="{StaticResource DataGridColumnTextStyle}" />
                        </DataGridColumn.Header>
                      </DataGridTextColumn>
                      <DataGridTextColumn SortMemberPath="LongModifiedDate" MinWidth="120" Width="auto" IsReadOnly="True" Binding="{Binding ModifiedDate}">
                        <DataGridColumn.Header>
                          <lang:LangTextBlock LangText="Modified date" LangKey="K0545" Style="{StaticResource DataGridColumnTextStyle}" />
                        </DataGridColumn.Header>
                      </DataGridTextColumn>
                    </DataGrid.Columns>
                  </DataGrid>
                </Border>
              </genericDataList:DataList.DetailListContent>
              <genericDataList:DataList.IconListContent>
                <Border BorderThickness="0">
                  <ListBox SelectionMode="Multiple" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Auto" Style="{StaticResource videoIconList}" ItemsSource="{Binding DataItemsSource}">
                    <i:Interaction.Triggers>
                      <iEx:RoutedEventTrigger RoutedEvent="ScrollViewer.ScrollChanged">
                        <iEx:InvokeCommandAction CommandParameter="icon" Command="{Binding DetailListScrollChangedCommand}" />
                      </iEx:RoutedEventTrigger>
                    </i:Interaction.Triggers>
                    <ItemsControl.ItemTemplate>
                      <DataTemplate>
                        <Grid>
                          <i:Interaction.Triggers>
                            <i:EventTrigger i:EventTrigger.EventName="MouseLeftButtonUp">
                              <i:InvokeCommandAction i:InvokeCommandAction.Command="{Binding CheckCammand}" i:InvokeCommandAction.CommandParameter="{Binding IsChecked, UpdateSourceTrigger=PropertyChanged}" />
                            </i:EventTrigger>
                          </i:Interaction.Triggers>
                          <Grid>
                            <Grid.RowDefinitions>
                              <RowDefinition Height="*" />
                              <RowDefinition Height="4" />
                              <RowDefinition Height="auto" />
                              <RowDefinition Height="4" />
                              <RowDefinition Height="auto" />
                            </Grid.RowDefinitions>
                            <Grid Row="0" Background="#D7D7D7">
                              <Image HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Stretch="Uniform" Margin="1" Source="{Binding IconSource}" />
                              <Image Width="13" Height="13" HorizontalAlignment="Right" VerticalAlignment="Top" Source="{StaticResource chooseDrawingImage}" Visibility="{Binding IsChecked, Mode=TwoWay, Converter={StaticResource bool2VisibilityConverter}}" />
                            </Grid>
                            <TextBlock Grid.Row="2" Margin="2 2 2 0" HorizontalAlignment="Left" FontSize="9pt" Foreground="#494949" VerticalAlignment="Bottom" TextAlignment="Left" TextTrimming="CharacterEllipsis" Text="{Binding Name}" ToolTipService.ToolTip="{Binding Path=Text, RelativeSource={RelativeSource Mode=Self}}" />
                            <StackPanel Grid.Row="4" TextBlock.Foreground="#777776" TextBlock.FontSize="8pt">
                              <TextBlock Margin="2 2 2 0" HorizontalAlignment="Left" VerticalAlignment="Bottom" TextAlignment="Left" Text="{Binding Size}" />
                              <TextBlock Margin="2 2 2 0" Grid.Column="1" VerticalAlignment="Bottom" TextAlignment="Left" Text="{Binding Duration}" />
                            </StackPanel>
                          </Grid>
                        </Grid>
                      </DataTemplate>
                    </ItemsControl.ItemTemplate>
                  </ListBox>
                </Border>
              </genericDataList:DataList.IconListContent>
            </genericDataList:DataList>
          </Border>
        </Grid>
        <Grid VerticalAlignment="Center" HorizontalAlignment="Center" Visibility="{Binding ConnectDeviceTipsVisibility}">
          <Grid.RowDefinitions>
            <RowDefinition Height="50" />
            <RowDefinition Height="1*" />
          </Grid.RowDefinitions>
          <Border Grid.Row="0" Margin="50 0">
            <lang:LangTextBlock VerticalAlignment="Center" FontSize="20px" LangText="Connect device to PC with USB cable" LangKey="K0189" Foreground="#535353" />
          </Border>
          <Grid Row="1">
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="1.3*" />
              <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Border Grid.Column="0" Grid.Row="0" Margin="20 15 0 30" Background="#E5E5E5">
              <Grid Margin="0 10 0 0">
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="35" />
                  <ColumnDefinition Width="30" />
                  <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                  <RowDefinition Height="80" />
                  <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <Border Grid.Column="0" Grid.Row="0" Margin="0">
                  <Image Source="{StaticResource usbDrawingImage}" Stretch="None" />
                </Border>
                <StackPanel Grid.Column="2" Grid.Row="0" Grid.RowSpan="2">
                  <StackPanel MinHeight="300" MaxWidth="320">
                    <lang:LangTextBlock TextWrapping="Wrap" LangText="1. Connect device with USB cable" LangKey="K0191" Padding="5 15 0 5" FontSize="10pt" Foreground="#777776" />
                    <lang:LangTextBlock TextWrapping="Wrap" LangText="2. Turn on USB debugging." LangKey="K0192" Padding="5" FontSize="10pt" Foreground="#777776" />
                    <StackPanel Margin="20 0 0 0">
                      <lang:LangTextBlock LangText="Settings &gt; System* &gt; Developer options &gt; USB debugging" LangKey="K0193" Padding="5" TextWrapping="Wrap" FontSize="9pt" Foreground="#777776" />
                      <Grid Height="auto" Width="260" HorizontalAlignment="Left">
                        <Grid.RowDefinitions>
                          <RowDefinition Height="21" />
                          <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <Grid Background="#273238">
                          <Border Background="#00FFFFFF" HorizontalAlignment="Left" Margin="27 0 0 0">
                            <lang:LangTextBlock LangText="On" LangKey="K0194" Foreground="#ffffff" FontSize="7pt" HorizontalAlignment="Center" VerticalAlignment="Center" FontWeight="Medium" />
                          </Border>
                          <Grid Background="#00FFFFFF" Width="20" HorizontalAlignment="Right" Margin="0 0 16 0">
                            <Rectangle Fill="#1F4B68" Height="6" Width="10" VerticalAlignment="Center" StrokeThickness="0" RadiusX="3" RadiusY="3" HorizontalAlignment="Left" />
                            <Ellipse Width="10" Height="10" Fill="#3DBBD1" HorizontalAlignment="Center" VerticalAlignment="Center" />
                          </Grid>
                        </Grid>
                        <Grid Row="1" Background="#F7F7F7">
                          <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="9*" />
                            <ColumnDefinition Width="251*" />
                          </Grid.ColumnDefinitions>
                          <UIElement.Effect>
                            <DropShadowEffect BlurRadius="10" ShadowDepth="1" Color="#DFDFDF" />
                          </UIElement.Effect>
                        </Grid>
                        <Grid Row="1" Background="#F7F7F7">
                          <Grid Background="#00FFFFFF" Width="20" Height="40" HorizontalAlignment="Right" Margin="0 0 16 0">
                            <Rectangle Fill="#94C0C3" Height="6" Width="10" VerticalAlignment="Center" StrokeThickness="0" RadiusX="3" RadiusY="3" HorizontalAlignment="Left" />
                            <Ellipse Width="10" Height="10" Fill="#0C7676" HorizontalAlignment="Center" VerticalAlignment="Center" />
                          </Grid>
                          <StackPanel Margin="11 0 5 10">
                            <lang:LangTextBlock Padding="2" LangText="USB debugging" LangKey="K0195" TextWrapping="Wrap" Foreground="#777776" FontSize="9pt" />
                            <lang:LangTextBlock Padding="2" Margin="0 0 40 0" TextWrapping="Wrap" Foreground="#A0A0A0" FontSize="8pt" LangText="USB debugging mode when USB is connected" LangKey="K0196" />
                          </StackPanel>
                        </Grid>
                      </Grid>
                      <lang:LangTextBlock Margin="0 10 0 0" Padding="0 3 3 3" LangText="Can't find &quot;Developer options&quot;?" LangKey="K0197" FontSize="9pt" Foreground="#769D9C" />
                      <lang:LangTextBlock Padding="0 0 3 3" LangText="Settings &gt; System* &gt; About phone/tablet" LangKey="K0198" TextWrapping="Wrap" FontSize="9pt" Foreground="#777776" />
                      <lang:LangTextBlock Padding="20 0 20 3" TextWrapping="Wrap">
                        <lang:LangRun Foreground="#777776" FontSize="9pt" LangText="&gt; Tap" LangKey="K0199" /> <lang:LangRun Foreground="#777776" FontSize="9pt" LangText="Build number" LangKey="K0190" FontWeight="Bold" /> <lang:LangRun Foreground="#777776" FontSize="9pt" LangText="7 times" LangKey="K0201" /></lang:LangTextBlock>
                      <lang:LangTextBlock Foreground="#777776" FontSize="9pt" LangText="(* Since Android 8.0)" LangKey="K0202" />
                    </StackPanel>
                  </StackPanel>
                </StackPanel>
              </Grid>
            </Border>
            <Border Grid.Column="1" Grid.Row="1" Margin="-1 15 30 30" Background="#E5E5E5">
              <StackPanel Margin="10 10 0 0">
                <lang:LangTextBlock LangText="3. Authorize" LangKey="K0203" Padding="10 15 0 10" FontSize="10pt" Foreground="#777776" />
                <Grid Background="#F7F7F7" Width="225" Margin="0 0 25 0">
                  <StackPanel Margin="0" HorizontalAlignment="Left">
                    <lang:LangTextBlock Padding="8 5 5 5" LangText="Allow USB debugging?" LangKey="K0204" TextWrapping="Wrap" Foreground="#777776" FontSize="9pt" />
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                      <Canvas Margin="5 0 0 0" Width="7" Height="7" Background="#0A7772">
                        <Polyline Points="0,3 3,5 6,1" StrokeThickness="1.5" Stroke="#FFFFFFFF" />
                      </Canvas>
                      <lang:LangTextBlock Padding="8 3" Width="220" LangText="Always allow from this computer" LangKey="K0205" TextWrapping="Wrap" Foreground="#A0A0A0" FontSize="8pt" />
                    </StackPanel>
                  </StackPanel>
                </Grid>
                <Grid Margin="0 -30 0 0" Width="204">
                  <UIElement.Effect>
                    <DropShadowEffect BlurRadius="10" ShadowDepth="1" Color="Black" />
                  </UIElement.Effect>
                </Grid>
              </StackPanel>
            </Border>
          </Grid>
        </Grid>
      </Grid>
    </Grid>
  </Border>
</UserControl>
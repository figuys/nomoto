<?xml version="1.0" encoding="utf-8"?>
<UserControl x:Class="lenovo.mbg.service.lmsa.toolbox.UserControlsV6.GifMakerViewV6" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:lang="clr-namespace:lenovo.mbg.service.framework.lang;assembly=lenovo.mbg.service.framework.lang" xmlns:generic="clr-namespace:lenovo.themes.generic;assembly=lenovo.themes.generic" xmlns:gif="clr-namespace:lenovo.themes.generic.Gif;assembly=lenovo.themes.generic" xmlns:selctor="clr-namespace:lenovo.mbg.service.lmsa.toolbox.GifMaker" xmlns:cmd="clr-namespace:lenovo.mbg.service.lmsa.toolbox.ViewModelV6" xmlns:local="clr-namespace:lenovo.mbg.service.lmsa.toolbox.GifMaker.View" xmlns:convert="clr-namespace:lenovo.mbg.service.lmsa.toolbox.GifMaker.Comm" xmlns:cvt="clr-namespace:lenovo.themes.generic.Converter;assembly=lenovo.themes.generic" Background="#FFF7F9FC" Foreground="#FF001429" FontSize="14" xmlns:usercontrolsv6="clr-namespace:lenovo.mbg.service.lmsa.toolbox.UserControlsV6">
  <FrameworkElement.Resources>
    <ResourceDictionary>
      <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="pack://application:,,,/lenovo.themes.generic;component/ThemesV6/GenericStyle.xaml" />
        <ResourceDictionary Source="pack://application:,,,/lenovo.themes.generic;component/ThemesV6/ButtonStyle.xaml" />
        <ResourceDictionary Source="pack://application:,,,/lenovo.themes.generic;component/ThemesV6/DrawingImageStyle.xaml" />
        <ResourceDictionary Source="pack://application:,,,/lenovo.themes.generic;component/ThemesV6/ScrollViewerStyleV6.xaml" />
        <ResourceDictionary Source="../ThemesV6/IconSvgDrawingIamge.xaml" />
      </ResourceDictionary.MergedDictionaries>
      <convert:ZoomConverter x:Key="ZoomConverter" />
      <convert:GifVisiableConverter x:Key="GifVisiableConverter" />
      <convert:LangStringConverter x:Key="LangStringConverter" />
      <convert:String2ImageConverter x:Key="String2ImageConverter" />
      <convert:Color2BrushConverter x:Key="Color2BrushConverter" />
      <convert:PlayerVisibleConverter x:Key="PlayerVisibleConverter" />
      <cvt:CompareValueConverter x:Key="CompareValueConverter" />
      <SolidColorBrush x:Key="ThemeBrushKey">#43B5E2</SolidColorBrush>
      <SolidColorBrush x:Key="DefTextBrushKey">#FF494949</SolidColorBrush>
      <SolidColorBrush x:Key="HighlightBrushKey">#FFFFB000</SolidColorBrush>
      <DrawingImage x:Key="DeleteImageKey">
        <DrawingImage.Drawing>
          <DrawingGroup ClipGeometry="M0,0 L0,11.2 L12.1,11.2 L12.1,0 L0,0">
            <DrawingGroup>
              <GeometryDrawing Brush="#FFFFFFFF" Geometry="F1 M12.1,11.2 M0,0 M8.6,0.8 L3.6,0.8 C3.4,0.8 3.2,0.6 3.2,0.4 C3.2,0.2 3.3,0 3.5,0 L8.5,0 C8.7,0 8.9,0.2 8.9,0.4 C8.9,0.6 8.8,0.8 8.6,0.8" />
              <GeometryDrawing Brush="#FFFFFFFF" Geometry="F1 M12.1,11.2 M0,0 M11.7,3.1 L0.4,3.1 C0.2,3.1 0,2.9 0,2.7 C0,2.5 0.2,2.3 0.4,2.3 L11.7,2.3 C11.9,2.3 12.1,2.5 12.1,2.7 C12.1,2.9 11.9,3.1 11.7,3.1" />
              <GeometryDrawing Brush="#FFFFFFFF" Geometry="F1 M12.1,11.2 M0,0 M9.8,11.2 L2.3,11.2 C2.1,11.2 1.9,11 1.9,10.8 L1.9,2.7 C1.9,2.5 2.1,2.3 2.3,2.3 C2.5,2.3 2.7,2.5 2.7,2.7 L2.7,10.5 L9.5,10.5 L9.5,2.7 C9.5,2.5 9.7,2.3 9.9,2.3 C10.1,2.3 10.3,2.5 10.3,2.7 L10.3,10.9 C10.2,11.1 10,11.2 9.8,11.2" />
              <GeometryDrawing Brush="#FFFFFFFF" Geometry="F1 M12.1,11.2 M0,0 M4.5,9.2 C4.3,9.2 4.2,9 4.2,8.8 L4.2,4.7 C4.2,4.5 4.4,4.3 4.6,4.3 C4.8,4.3 5,4.5 5,4.7 L5,8.8 C4.9,9 4.7,9.2 4.5,9.2" />
              <GeometryDrawing Brush="#FFFFFFFF" Geometry="F1 M12.1,11.2 M0,0 M7.6,9.2 C7.3,9.2 7.2,9 7.2,8.8 L7.2,4.7 C7.2,4.5 7.4,4.3 7.6,4.3 C7.8,4.3 8,4.5 8,4.7 L8,8.8 C7.9,9 7.8,9.2 7.6,9.2" />
            </DrawingGroup>
          </DrawingGroup>
        </DrawingImage.Drawing>
      </DrawingImage>
      <Style x:Key="ImgBtnStyle" TargetType="{x:Type Button}">
        <Setter Property="Width" Value="33" />
        <Setter Property="Height" Value="33" />
        <Setter Property="VerticalAlignment" Value="Bottom" />
        <Setter Property="HorizontalAlignment" Value="Right" />
        <Setter Property="Template">
          <Setter.Value>
            <ControlTemplate TargetType="{x:Type Button}">
              <Grid>
                <Grid Width="20" Height="20" VerticalAlignment="Bottom" HorizontalAlignment="Right">
                  <Image Source="{StaticResource v6_icon_solid_circle_close}" />
                </Grid>
              </Grid>
            </ControlTemplate>
          </Setter.Value>
        </Setter>
      </Style>
      <Style x:Key="EditBtnStyle" TargetType="{x:Type Button}">
        <Setter Property="Width" Value="33" />
        <Setter Property="Height" Value="33" />
        <Setter Property="VerticalAlignment" Value="Top" />
        <Setter Property="HorizontalAlignment" Value="Left" />
        <Setter Property="Template">
          <Setter.Value>
            <ControlTemplate TargetType="{x:Type Button}">
              <Grid>
                <Path Fill="#FF005D7F">
                  <Path.Data>
                    <PathGeometry>
                      <PathFigure IsClosed="True" IsFilled="True" StartPoint="0,0">
                        <LineSegment Point="33,0" />
                        <LineSegment Point="0,33" />
                      </PathFigure>
                    </PathGeometry>
                  </Path.Data>
                </Path>
                <Grid Width="20" Height="20" VerticalAlignment="Top" HorizontalAlignment="Left">
                  <Path Width="12" Height="12" Stroke="#FFFFFFFF" Stretch="Fill" Data="F1 M16,16 M0,0 M13.4,15.3 L2.9,15.3 C2.4,15.3 1.8,15.1 1.4,14.7 C1,14.3 0.7,13.8 0.7,13.2 L0.7,2.6 C0.7,2.1 1,1.6 1.4,1.2 C1.8,0.9 2.3,0.7 2.9,0.7 L8.5,0.7 C8.8,0.7 9,0.9 9,1.2 C9,1.5 8.8,1.7 8.5,1.7 L2.9,1.7 C2.3,1.7 1.7,2 1.7,2.6 L1.7,13.2 C1.7,13.7 2.3,14.3 2.9,14.3 L13.4,14.3 C13.9,14.3 14.3,13.7 14.3,13.2 L14.3,7.8 C14.3,7.5 14.5,7.3 14.8,7.3 C15.1,7.3 15.3,7.5 15.3,7.8 L15.3,13.2 C15.3,13.7 15.1,14.2 14.8,14.6 C14.4,15.1 13.9,15.3 13.4,15.3 L13.4,15.3 M7.8,8.6 C7.6,8.6 7.5,8.5 7.3,8.4 C7,8.2 7,7.8 7.3,7.5 L14.1,0.8 C14.4,0.6 14.8,0.6 15,0.8 C15.3,1 15.3,1.6 15,1.9 L8.5,8.4 C8.3,8.6 8,8.6 7.8,8.6 L7.8,8.6 M7.8,8.6" />
                </Grid>
              </Grid>
            </ControlTemplate>
          </Setter.Value>
        </Setter>
      </Style>
      <Style x:Key="AddBtnStyle" TargetType="{x:Type Button}">
        <Setter Property="Background" Value="{StaticResource ThemeBrushKey}" />
        <Setter Property="Foreground" Value="#FFFFFFFF" />
        <Setter Property="Template">
          <Setter.Value>
            <ControlTemplate TargetType="{x:Type Button}">
              <Border Background="{TemplateBinding Control.Background}" CornerRadius="5">
                <ContentPresenter Name="contentPresenter" RecognizesAccessKey="True" HorizontalAlignment="Center" VerticalAlignment="Center" SnapsToDevicePixels="True" />
              </Border>
              <ControlTemplate.Triggers>
                <Trigger Property="IsEnabled" Value="False">
                  <Setter Property="Background" Value="#FFB2B1B1" />
                  <Setter Property="BorderBrush" Value="#FFB2B1B1" />
                </Trigger>
              </ControlTemplate.Triggers>
            </ControlTemplate>
          </Setter.Value>
        </Setter>
      </Style>
      <Style x:Key="v6_NormalItemStyle" TargetType="{x:Type ListBoxItem}">
        <Setter Property="Background" Value="#FFD4DCE3" />
        <Setter Property="BorderBrush" Value="#00FFFFFF" />
        <Setter Property="Margin" Value="5" />
        <Setter Property="Template">
          <Setter.Value>
            <ControlTemplate TargetType="{x:Type ListBoxItem}">
              <Border Width="82" Height="82" CornerRadius="5" Background="{TemplateBinding Control.Background}" BorderBrush="{TemplateBinding Control.BorderBrush}" BorderThickness="2">
                <Grid>
                  <Image Name="imgShow" Width="82" Height="82" Stretch="Uniform" Margin="5" Source="{Binding BitmapImage}" />
                  <Button Name="imgAdd" Margin="0" Command="{x:Static cmd:GifMakerViewModelV6.AddImgCmd}" Visibility="Collapsed">
                    <Control.Template>
                      <ControlTemplate>
                        <Image Width="42" Height="42" Source="{StaticResource v6_icon_gifmaker_add}" />
                      </ControlTemplate>
                    </Control.Template>
                  </Button>
                  <Button Name="btnDel" Margin="5" Command="{x:Static cmd:GifMakerViewModelV6.DelImgCmd}" CommandParameter="{Binding Index}">
                    <Control.Template>
                      <ControlTemplate>
                        <Grid Margin="0 -8 -8 0" VerticalAlignment="Top" HorizontalAlignment="Right">
                          <Image Width="16" Height="16" Source="{StaticResource v6_icon_solid_circle_close}" />
                        </Grid>
                      </ControlTemplate>
                    </Control.Template>
                  </Button>
                  <Button Name="btnEdit" Command="{x:Static cmd:GifMakerViewModelV6.ImagePlotCmd}" Visibility="Collapsed" Style="{StaticResource EditBtnStyle}" CommandParameter="{Binding Index}" />
                </Grid>
              </Border>
              <ControlTemplate.Triggers>
                <Trigger Property="UIElement.IsMouseOver" Value="True">
                  <Setter Property="BorderBrush" Value="#FF005D7F" />
                  <Setter TargetName="btnEdit" Property="Visibility" Value="Visible" />
                </Trigger>
                <DataTrigger Binding="{Binding BitmapImage}" Value="{x:Null}">
                  <Setter Property="FrameworkElement.Cursor" Value="Hand" />
                  <Setter Property="Background" Value="#00FFFFFF" />
                  <Setter Property="BorderBrush" Value="#FFD4DCE3" />
                  <Setter TargetName="imgAdd" Property="Visibility" Value="Visible" />
                  <Setter TargetName="imgShow" Property="Visibility" Value="Collapsed" />
                  <Setter TargetName="btnEdit" Property="Visibility" Value="Collapsed" />
                  <Setter TargetName="btnDel" Property="Visibility" Value="Collapsed" />
                </DataTrigger>
              </ControlTemplate.Triggers>
            </ControlTemplate>
          </Setter.Value>
        </Setter>
      </Style>
      <Style x:Key="AddBtnItemStyle" TargetType="{x:Type ListBoxItem}">
        <Setter Property="Template">
          <Setter.Value>
            <ControlTemplate TargetType="{x:Type ListBoxItem}" Triggers="">
              <Border Name="Bd">
                <Grid Width="109" Height="109" Margin="5 0 5 10">
                  <lang:LangButton Width="70" Height="30" LangContent="Add" LangKey="K0210" Command="{x:Static cmd:GifMakerViewModelV6.AddImgCmd}" Style="{StaticResource AddBtnStyle}" />
                </Grid>
              </Border>
            </ControlTemplate>
          </Setter.Value>
        </Setter>
      </Style>
      <Style x:Key="v6_ListBoxStyle" TargetType="{x:Type ListBox}">
        <Setter Property="Background" Value="{DynamicResource {x:Static SystemColors.WindowBrushKey}}" />
        <Setter Property="BorderThickness" Value="0" />
        <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" />
        <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled" />
        <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto" />
        <Setter Property="ScrollViewer.CanContentScroll" Value="True" />
        <Setter Property="ScrollViewer.PanningMode" Value="Both" />
        <Setter Property="Stylus.IsFlicksEnabled" Value="False" />
        <Setter Property="VerticalContentAlignment" Value="Center" />
        <Setter Property="ItemContainerStyle" Value="{StaticResource v6_NormalItemStyle}" />
        <Setter Property="Template">
          <Setter.Value>
            <ControlTemplate TargetType="{x:Type ListBox}">
              <ScrollViewer Focusable="True" Padding="{TemplateBinding Control.Padding}" SnapsToDevicePixels="True">
                <ItemsPresenter SnapsToDevicePixels="{TemplateBinding UIElement.SnapsToDevicePixels}" />
              </ScrollViewer>
            </ControlTemplate>
          </Setter.Value>
        </Setter>
        <Setter Property="ItemsPanel">
          <Setter.Value>
            <ItemsPanelTemplate>
              <WrapPanel />
            </ItemsPanelTemplate>
          </Setter.Value>
        </Setter>
      </Style>
      <Style x:Key="v6_PxTextBoxStyle" TargetType="{x:Type TextBox}">
        <Setter Property="Width" Value="68" />
        <Setter Property="Height" Value="20" />
        <Setter Property="Margin" Value="8 0 5 0" />
        <Setter Property="Template">
          <Setter.Value>
            <ControlTemplate TargetType="{x:Type TextBox}">
              <Border BorderBrush="#FFD4DCE3" BorderThickness="1" Background="#FFFFFFFF">
                <ScrollViewer Name="PART_ContentHost" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="0 0 7 0" />
              </Border>
              <ControlTemplate.Triggers>
                <Trigger Property="IsEnabled" Value="False">
                  <Setter Property="Foreground" Value="#FFDBDCDE" />
                </Trigger>
              </ControlTemplate.Triggers>
            </ControlTemplate>
          </Setter.Value>
        </Setter>
      </Style>
      <Style x:Key="v6_SavePathTextBoxStyle" TargetType="{x:Type TextBox}">
        <Setter Property="Template">
          <Setter.Value>
            <ControlTemplate TargetType="{x:Type TextBox}">
              <Border BorderBrush="#FF6D86AB" BorderThickness="1" CornerRadius="4">
                <ScrollViewer Name="PART_ContentHost" VerticalAlignment="Center" Margin="13 0 0 0" />
              </Border>
            </ControlTemplate>
          </Setter.Value>
        </Setter>
      </Style>
      <Style x:Key="v6_DelaySliderRepeatButtonStyle" TargetType="{x:Type RepeatButton}">
        <Setter Property="Background" Value="#00FFFFFF" />
        <Setter Property="BorderBrush" Value="#00FFFFFF" />
        <Setter Property="IsTabStop" Value="False" />
        <Setter Property="Focusable" Value="False" />
        <Setter Property="Template">
          <Setter.Value>
            <ControlTemplate TargetType="{x:Type RepeatButton}">
              <Border Background="{TemplateBinding Control.Background}" Height="4" CornerRadius="2" />
            </ControlTemplate>
          </Setter.Value>
        </Setter>
      </Style>
      <Style x:Key="v6_DelaySliderStyle" TargetType="{x:Type Slider}">
        <Setter Property="Background" Value="#00FFFFFF" />
        <Setter Property="Template">
          <Setter.Value>
            <ControlTemplate TargetType="{x:Type Slider}">
              <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="244" />
                  <ColumnDefinition Width="30" />
                </Grid.ColumnDefinitions>
                <Track Name="PART_Track" Grid.Column="0">
                  <Track.Thumb>
                    <Thumb Height="{TemplateBinding FrameworkElement.Height}">
                      <Control.Background>
                        <LinearGradientBrush EndPoint="0.1,0" StartPoint="0.1,0">
                          <GradientStop Color="Black" Offset="0" />
                          <GradientStop Color="White" Offset="1" />
                        </LinearGradientBrush>
                      </Control.Background>
                      <Control.Template>
                        <ControlTemplate>
                          <Image Height="24" Width="24" Source="{StaticResource v6_icon_music_volume}" />
                        </ControlTemplate>
                      </Control.Template>
                    </Thumb>
                  </Track.Thumb>
                  <Track.IncreaseRepeatButton>
                    <RepeatButton Command="Slider.IncreaseLarge" Background="#FF9FAEBF" Style="{StaticResource v6_DelaySliderRepeatButtonStyle}" />
                  </Track.IncreaseRepeatButton>
                  <Track.DecreaseRepeatButton>
                    <RepeatButton Command="Slider.DecreaseLarge" Background="#FF005D7F" Style="{StaticResource v6_DelaySliderRepeatButtonStyle}" />
                  </Track.DecreaseRepeatButton>
                </Track>
                <TextBlock Grid.Column="1" FontSize="14" Foreground="#FF001429" HorizontalAlignment="Right" VerticalAlignment="Center" Text="{Binding Model.GifDelay}" />
              </Grid>
            </ControlTemplate>
          </Setter.Value>
        </Setter>
      </Style>
      <Style x:Key="v6_PlayerBtnStyle" TargetType="{x:Type ToggleButton}">
        <Setter Property="HorizontalContentAlignment" Value="Center" />
        <Setter Property="VerticalContentAlignment" Value="Center" />
        <Setter Property="BorderThickness" Value="0" />
        <Setter Property="Width" Value="48" />
        <Setter Property="Height" Value="48" />
        <Setter Property="Template">
          <Setter.Value>
            <ControlTemplate TargetType="{x:Type ToggleButton}">
              <Border BorderBrush="{TemplateBinding Control.BorderBrush}" BorderThickness="{TemplateBinding Control.BorderThickness}">
                <Image Name="img" Stretch="UniformToFill" Source="{StaticResource v6_icon_music_btn_play}" />
              </Border>
              <ControlTemplate.Triggers>
                <Trigger Property="ToggleButton.IsChecked" Value="true">
                  <Setter TargetName="img" Property="Image.Source" Value="{StaticResource v6_icon_music_btn_stop}" />
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                  <Setter Property="Background" Value="#FFB2B1B1" />
                  <Setter Property="BorderBrush" Value="#FFB2B1B1" />
                </Trigger>
              </ControlTemplate.Triggers>
            </ControlTemplate>
          </Setter.Value>
        </Setter>
      </Style>
    </ResourceDictionary>
  </FrameworkElement.Resources>
  <Grid Margin="60 23 60 15">
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="*" />
      <ColumnDefinition Width="368" />
    </Grid.ColumnDefinitions>
    <Grid.RowDefinitions>
      <RowDefinition Height="25" />
      <RowDefinition Height="*" />
      <RowDefinition Height="Auto" />
    </Grid.RowDefinitions>
    <lang:LangTextBlock Grid.Row="0" Grid.Column="0" LangText="Photos to GIF" LangKey="K0232" FontSize="16" />
    <lang:LangTextBlock Grid.Row="0" Grid.Column="1" LangText="Preview effect" LangKey="K1414" FontSize="16" />
    <Grid Row="1" Column="0" HorizontalAlignment="Left">
      <ScrollViewer Height="270" Width="480" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled" Style="{StaticResource V6_CommonScrollViewerStyle}" VerticalAlignment="Top">
        <ListBox Name="ImgList" Style="{StaticResource v6_ListBoxStyle}" ItemsSource="{Binding ImageArr}" />
      </ScrollViewer>
      <StackPanel Orientation="Horizontal" VerticalAlignment="Bottom" Margin="5 0 0 0">
        <Image Height="15" Width="15" Source="{StaticResource v6_icon_gifmaker_warning}" />
        <lang:LangTextBlock LangText="JPG, PNG, JPEG, and BMP image formats are supported." LangKey="K0233" Margin="5 0 0 0" Foreground="#FF005D7F" />
      </StackPanel>
    </Grid>
    <Border Grid.Row="1" Grid.Column="1" Width="360" Height="281" HorizontalAlignment="Left" BorderBrush="#FFD4DCE3" BorderThickness="3">
      <Grid Name="player">
        <FrameworkElement.Style>
          <Style TargetType="{x:Type Grid}">
            <Setter Property="FrameworkElement.Tag" Value="False" />
            <Setter Property="Background" Value="#00FFFFFF" />
            <Style.Triggers>
              <Trigger Property="UIElement.IsMouseOver" Value="True">
                <Setter Property="FrameworkElement.Tag" Value="True" />
              </Trigger>
            </Style.Triggers>
          </Style>
        </FrameworkElement.Style>
        <Grid MaxWidth="350" MaxHeight="270" Width="{Binding ElementName=txtWidth, Path=Text}" Height="{Binding ElementName=txtHeight, Path=Text}">
          <Image Name="gif" gif:ImageBehavior.RepeatBehavior="Forever" gif:ImageBehavior.AutoStart="True" Stretch="Fill" gif:ImageBehavior.AnimatedSource="{Binding Model.GifImage}">
            <UIElement.Visibility>
              <MultiBinding Converter="{StaticResource GifVisiableConverter}">
                <Binding Path="Model.IsAnimation" />
                <Binding Path="Model.IsGifMakeOk" />
              </MultiBinding>
            </UIElement.Visibility>
          </Image>
          <Image Name="img" Stretch="Fill" Source="{Binding ImageArr[0].BitmapImage}" Visibility="{Binding ElementName=gif, Path=Visibility, Converter={StaticResource CompareValueConverter}, ConverterParameter=Visible:Collapsed:Visible}" />
        </Grid>
        <Grid Background="#AFF5F5F5">
          <UIElement.Visibility>
            <MultiBinding Converter="{StaticResource PlayerVisibleConverter}">
              <Binding ElementName="player" Path="Tag" />
              <Binding Path="ImageArr.Count" />
            </MultiBinding>
          </UIElement.Visibility>
          <ToggleButton Style="{StaticResource v6_PlayerBtnStyle}" Command="{Binding PlayerCmd}" IsChecked="{Binding Model.IsAnimation}" />
        </Grid>
      </Grid>
    </Border>
    <Border Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" Width="879" Height="181" BorderBrush="#FFD4DCE3" BorderThickness="1" Background="#70D4DCE3" CornerRadius="12" Margin="0 10 0 0">
      <Grid Margin="20 15">
        <Grid.RowDefinitions>
          <RowDefinition Height="40" />
          <RowDefinition Height="25" />
          <RowDefinition Height="25" />
          <RowDefinition Height="40" />
          <RowDefinition Height="40" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="345" />
          <ColumnDefinition Width="20" />
          <ColumnDefinition Width="510" />
        </Grid.ColumnDefinitions>
        <lang:LangTextBlock Grid.Row="0" Grid.Column="0" LangText="Output size:" LangKey="K0227" VerticalAlignment="Center" />
        <Grid Row="1" RowSpan="2" Column="0">
          <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="*" />
          </Grid.RowDefinitions>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="auto" />
            <ColumnDefinition Width="auto" />
            <ColumnDefinition Width="auto" />
          </Grid.ColumnDefinitions>
          <TextBlock Grid.Row="0" Grid.Column="0" HorizontalAlignment="Right" VerticalAlignment="Center">
            <lang:LangRun LangText="Width" LangKey="K1427" /> <Run Text=":" /></TextBlock>
          <TextBox Name="txtWidth" Grid.Row="0" Grid.Column="1" Style="{StaticResource v6_PxTextBoxStyle}" HorizontalContentAlignment="Center" Text="{Binding Model.GifWidth, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" IsEnabled="{Binding ImageArr[0].IsImage}" TextChanged="OnTextChanged" PreviewTextInput="OnPreviewTextInput" />
          <TextBlock Grid.Row="0" Grid.Column="2" Text="px" VerticalAlignment="Center" />
          <TextBlock Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Right">
            <lang:LangRun LangText="Height" LangKey="K1428" /> <Run Text=":" /></TextBlock>
          <TextBox Name="txtHeight" Grid.Row="1" Grid.Column="1" Style="{StaticResource v6_PxTextBoxStyle}" HorizontalContentAlignment="Center" Text="{Binding Model.GifHeight, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" IsEnabled="{Binding ImageArr[0].IsImage}" TextChanged="OnTextChanged" PreviewTextInput="OnPreviewTextInput" />
          <TextBlock Grid.Row="1" Grid.Column="2" Text="px" VerticalAlignment="Center" />
        </Grid>
        <StackPanel Grid.Row="3" Grid.RowSpan="2" Grid.Column="0" Orientation="Vertical" VerticalAlignment="Top" Margin="0 5 0 0">
          <lang:LangTextBlock LangText="Frame rate:" Height="25" LangKey="K0228" />
          <Slider Name="mcSlider" Height="30" Maximum="30" Minimum="1" Style="{StaticResource v6_DelaySliderStyle}" Value="{Binding Model.GifDelay}" />
        </StackPanel>
        <Line Grid.Row="0" Grid.RowSpan="5" Grid.Column="1" X1="0" Y1="13" X2="0" Y2="310" Stroke="{StaticResource V6_SplitterBrushKey}" StrokeDashArray="4,5" StrokeThickness="1" />
        <lang:LangTextBlock LangText="Save to:" LangKey="K0229" Grid.Row="0" Grid.Column="3" VerticalAlignment="Center" />
        <StackPanel Grid.Row="1" Grid.RowSpan="3" Grid.Column="2" VerticalAlignment="Top" Orientation="Horizontal">
          <Grid>
            <TextBox Width="385" Height="32" VerticalAlignment="Center" IsEnabled="False" Style="{StaticResource v6_SavePathTextBoxStyle}" Text="{Binding Model.GifPath, Converter={StaticResource LangStringConverter}, ConverterParameter=48}" />
            <Grid Background="#00FFFFFF" ToolTip="{Binding Model.GifPath}" />
          </Grid>
          <Button Height="18" Margin="7 0 0 0" Command="{Binding SelDirPathCmd}">
            <Control.Template>
              <ControlTemplate TargetType="{x:Type Button}">
                <lang:LangTextBlock LangText="Change" LangKey="K0621" Foreground="#FF005D7F" TextDecorations="Underline" />
              </ControlTemplate>
            </Control.Template>
          </Button>
        </StackPanel>
        <lang:LangButton Grid.Row="2" Grid.RowSpan="3" Grid.Column="2" HorizontalAlignment="Left" LangContent="Create GIF" LangKey="K0225" Width="155" Height="38" Style="{StaticResource V6_NormalBtnStyle}" Command="{Binding CreateGifCmd}" IsEnabled="{Binding ImageArr[0].IsImage}" />
      </Grid>
    </Border>
  </Grid>
</UserControl>